# Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ¸ ÑĞ±Ğ¾Ñ€Ğ° Ğ»Ğ¾Ğ³Ğ¾Ğ² (Prometheus + Grafana + Fluentd)

## ğŸ“Œ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ

Ğ”Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ€Ğ°Ğ·Ğ²Ğ¾Ñ€Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ **Docker Compose** Ğ¸ **Ansible**:

- **Prometheus** â€” ÑĞ±Ğ¾Ñ€ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº, Ğ² Ñ‚Ğ¾Ğ¼ Ñ‡Ğ¸ÑĞ»Ğµ Ñ Fluentd
- **Grafana** â€” Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº (http://<IP>:80)
- **Fluentd** â€” systemd-ÑĞµÑ€Ğ²Ğ¸Ñ, ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ **Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· Ansible**, ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ»Ğ¾Ğ³Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ² Grafana Ğ¸ Prometheus, Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ¸Ñ… Ğ² `/var/log/test`, Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ Prometheus

---

## ğŸ› ï¸ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Ubuntu 24.04
- Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹:  
  - `Docker`  
  - `Docker Compose`  
  - `Ansible`  

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

g5/
â”œâ”€â”€ docker-compose.yml                 # Docker Compose Ğ´Ğ»Ñ Prometheus + Grafana
â”œâ”€â”€ grafana/
â”‚   â”œâ”€â”€ dashboards/                    # Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹ Grafana
â”‚   â”‚   â”œâ”€â”€ cadvisor.json              # Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ´Ğ»Ñ cAdvisor
â”‚   â”‚   â”œâ”€â”€ fluentd.json               # Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ´Ğ»Ñ Fluentd
â”‚   â”‚   â””â”€â”€ node_exporter.json         # Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ´Ğ»Ñ Node Exporter
â”‚   â”œâ”€â”€ dashboards.yml                 # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ¾Ğ²
â”‚   â””â”€â”€ datasource.yml                 # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Prometheus ĞºĞ°Ğº datasource
â”œâ”€â”€ hosts.ini                          # Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ansible
â”œâ”€â”€ playbook.yml                       # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ansible playbook
â”œâ”€â”€ prometheus/
â”‚   â””â”€â”€ prometheus.yml                 # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Prometheus (jobâ€™Ñ‹, targets)
â”œâ”€â”€ README.md                          # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ
â””â”€â”€ roles/
    â”œâ”€â”€ docker/                        # Ğ Ğ¾Ğ»ÑŒ Ansible Ğ´Ğ»Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Docker
    â”‚   â”œâ”€â”€ files/
    â”‚   â”‚   â”œâ”€â”€ daemon.json            # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Docker daemon
    â”‚   â”‚   â””â”€â”€ docker.list            # Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ Docker
    â”‚   â””â”€â”€ tasks/
    â”‚       â””â”€â”€ main.yml               # ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ Docker
    â””â”€â”€ fluentd/                       # Ğ Ğ¾Ğ»ÑŒ Ansible Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Fluentd
        â”œâ”€â”€ files/
        â”‚   â””â”€â”€ fluentd.conf           # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Fluentd
        â””â”€â”€ tasks/
            â””â”€â”€ main.yml              # ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ Fluentd

---

## ğŸš€ Ğ Ğ°Ğ·Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```bash
git clone https://github.com/NurkanatShaken/g5.git
cd g5/
Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ¹ Ñ…Ğ¾ÑÑ‚ Ğ² Ñ„Ğ°Ğ¹Ğ» hosts.ini
Ğ¸ Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ playbook Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ
ansible-playbook -i hosts.ini playbook.yml

ğŸ” Ğ”Ğ¾ÑÑ‚ÑƒĞ¿
Grafana:
http://<IP-Ğ°Ğ´Ñ€ĞµÑ Ğ²Ğ°ÑˆĞµĞ¹ Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹>:80
Ğ›Ğ¾Ğ³Ğ¸Ğ½: admin
ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ: admin
